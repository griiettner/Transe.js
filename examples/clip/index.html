<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, maximum-scale=1">

    <link rel="stylesheet" href="css/style.css">

    <title>ScrollTransform # Transformable scroll elements</title>
</head>

<body>
    <a href="#" class="animate">Animate On/Off</a>
    <div id="item1" class='item'>
        jQuery Transe
        <img src="../_img/focus_parcour_by_leilah_albert.jpg" alt>
    </div>

    <div id="item2" class='item'>jQuery Transe
        <img src="../_img/focus_parcour_blur_by_leilah_albert.jpg" alt>
    </div>



    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="../../src/jquery.scrolltransform.js"></script>
    <script>
        $(function() {
            var item = $('.item');
            $('.animate').on('click', function(){
                item.toggleClass('transition');
                return false;
            });

            var init = function(){
                var win = $(this),
                    winW = win.width(),
                    winH = win.height(),
                    docH = $(document).height();

                $('html,body').css({
                    height: winH * 5
                });

                item.css({
                    position: 'fixed', // Not the best way, but so we can ensure that it works without js too
                    lineHeight: winH + 'px'
                });

                $('#item1').transe({
                    start: 0,
                    end: winH  * 4,
                    property: 'clip',
                    before: 'rect(0 '+winW+' '+winH+' 0)',
                    after: 'rect('+winH+' 0 0 '+winW+')'
                });

                $('#item2').transe({
                    start: 0,
                    end: winH  * 4,
                    property: 'clip',
                    before: 'rect('+winH+' 0 0 '+winW+')',
                    after: 'rect(0 '+winW+' '+winH+' 0)'
                });
            };

            init();
            window.onresize = init;
        });
    </script>
</body>
</html>