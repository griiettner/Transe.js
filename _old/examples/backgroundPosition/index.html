<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, maximum-scale=1">

    <link rel="stylesheet" href="css/style.css">

    <title>ScrollTransform # Transformable scroll elements</title>
</head>

<body>
    <a href="#" class="animate">Animate On/Off</a>
    <div id="holder">scrollTransform</div>


    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="../../src/jquery.transe.js"></script>
    <script>
        $(function() {
            var holder = $('#holder');

            $('.animate').on('click', function(){
                holder.toggleClass('transition');
                return false;
            });

            var init = function(){
                var win = $(this),
                    winW = win.width(),
                    winH = win.height(),
                    docH = $(document).height();

                $('html,body').css({
                    height: winH * 5
                });

                holder.css({
                    lineHeight: winH + 'px'
                });

                holder.transe({
                    start: 0,
                    end: winH  * 2,
                    property: 'backgroundPositionY',
                    before: 0,
                    after: winH
                }).transe({
                    start: winH  * 2,
                    end: winH  * 4,
                    property: 'backgroundPositionX',
                    before: 0,
                    after: -winW
                });
            };

            init();
            $(window).on('resize', init);
        });
    </script>
</body>
</html>